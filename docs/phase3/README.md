# Phase 3: ジョブ実行エンジン

**期間**: Week 13-16  
**チケット数**: 12

## 概要

BullMQを使ったジョブキューシステム、Workerプロセス、スケジューラー、エラーハンドリングを実装する。

## Week 13-14: BullMQ セットアップ・Worker基盤

| ID | チケット | 複雑度 | ステータス |
|----|----------|--------|-----------|
| 7-1 | BullMQ セットアップ | Medium | ✅ |
| 7-2 | ジョブキュー定義 | Simple | ✅ |
| 7-3 | Worker基盤実装 | Medium | ✅ |
| 7-4 | ジョブ投入API | Simple | ✅ |
| 7-5 | ジョブステータス管理 | Medium | ✅ |

## Week 15-16: データ取得・書き込み実装

| ID | チケット | 複雑度 | ステータス |
|----|----------|--------|-----------|
| 8-1 | Google Ads データ取得 | Medium | ✅ |
| 8-2 | Meta Ads データ取得 | Medium | ✅ |
| 8-3 | スプレッドシート書き込み | Medium | ✅ |
| 8-4 | エラーハンドリング | Medium | ✅ |
| 8-5 | リトライ機構 | Medium | ✅ |
| 8-6 | スケジューラー実装 | Medium | ✅ |
| 8-7 | 定期実行ジョブ登録 | Simple | ✅ |

## 依存関係図

```
7-1 ──→ 7-2 ──→ 7-3 ──→ 7-4
                  │
                  └──→ 7-5
                        │
8-1 ──→ 8-3 ──→ 8-4 ──→ 8-5
8-2 ──┘                  │
                         └──→ 8-6 ──→ 8-7
```

## 完了条件

- [x] BullMQでジョブをキューに投入できる
- [x] Workerがジョブを処理できる
- [x] Google Adsからデータを取得できる
- [x] Metaからデータを取得できる
- [x] スプレッドシートにデータを書き込める
- [x] エラー時にリトライが動作する
- [x] 定期実行ジョブが登録・実行される

